<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="main.css" />
    <title>Volunteering Preferences</title>
  </head>
  <body>
    <div class="form-heading">Volunteering Preferences</div>
    <div class="body-container">
      <form class="form" id="reg-form">
        <label class="form-label"
          >Contact<input name="Contact" class="form-input"
        /></label>
        <label class="form-label"
          >Vertical/Club

          <select class="form-dropdown" id="course-type">
            <option value="Coding">Coding</option>
            <option value="Dance">Dance</option>
            <option value="Drama">Drama</option>
            <option value="Music">Music</option>
            <option value="Public speaking">Public speaking</option>
            <option value="Electronics">Electronics</option>
            <option value="Visual Arts">Visual Arts</option>
            <option value="Frisbee">Frisbee</option>
            <option value="School Manager">School Manager</option>
          </select>
        </label>
        <label class="form-label">Preferred call interview timings</label>
        <label class="form-label"
          >Date<input
            type="date"
            name="date"
            placeholder="Select date"
            class="form-input"
            id="datepicker"
        /></label>
        <label class="form-label"
          >Time<input name="time" class="form-input"
        /></label>
        <button
          type="submit"
          value="Apply now"
          class="register-btn"
          id="submit-form"
        >
          Apply now
        </button>
      </form>
    </div>
  </body>
  <script src="./js/jquery.min.js" type="text/javascript"></script>
  <script
    src="./js/jquery.serialize-object.min.js"
    type="text/javascript"
  ></script>
  <script>
    let url =
      "https://script.google.com/macros/s/AKfycbyUI1470gcZK6hbEOCagFRN1xd-hxRnCgqaWR3Trig3198sPsaZ/exec";

    $("#submit-form").on("click", function(e) {
      e.preventDefault();
      var $form = $("form#reg-form");
      let sendData = $form.serializeObject();

      sendData.Status = "form2";
      sendData.date = document.getElementById("datepicker").value;

      let select = document.getElementById("course-type");
      sendData.Vertical = select.options[select.selectedIndex].value;

      console.log(sendData);

      var jqxhr = $.ajax({
        url: url,
        method: "GET",
        dataType: "json",
        data: sendData,
        complete: function() {
          window.location.href = "#";
        }
      });
    });
  </script>
</html>
